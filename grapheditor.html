<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Main</title>
        <script>
            const renderedClass = "rendered-callback";
            const renderedEvent = "rendered";
        </script>
        <script src="elm.js"></script>
        
        <!-- The loading of KaTeX is deferred to speed up page rendering -->
        <script src="js/katex.min.css.js"></script>
        <script src="js/katex-custom-element.js"></script>
    <script onLoad="initKatex()" 
             defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>

       

             <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">

        
        <!-- Make foreignobject in svg visible -->
         <style>
          foreignObject { overflow:visible;
          /* to allow clicking through the overflow */
            pointer-events: none
          } 
          foreignObject * { 
              pointer-events: all;
          }
          #canvas {
              width: 4000px;
              height: 4000px;
          }
          .active-edge {
            stroke-width: 4px; 
            
          }
          .weak-active-edge {
            filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));            
          }
          .tabs .tab-button {
  position: relative;
  padding: 0.5em 1em;
  border: 0;
  border-radius: 0.5em;
  background-color: pink;
  box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.5);
  cursor: pointer;
  /* width: 100%;
  max-width: 100%;
   box-sizing: border-box;
  display: block; */
}

          .tabs .tab-button.active-tab, .tabs .tab-button:active {
            top: 2px;
            left: 1px;
            box-shadow: none;

          }
         .active-label { 
             border-color: black;
             border-style: solid;
             border-width: 2px;
             }
             .weak-active-label { 
             border-color: black;
             border-style: dashed;
             border-width: 2px;
             }
             /* selection rectangle */
             .rect-select {
                stroke: black;
                stroke-width: 1px;
                stroke-dasharray: 2;
                fill:transparent;
             }     
            .help-div {
                height: 10em;
                overflow: scroll;
            }
            .overlay .help-div {
                position:fixed;
                top:0;
                bottom:0;
                height:auto;
                right:2px;
                width:50%;                
            }
            .overlay .help-div div {
                background-color: lightgrey;
            }
            path:hover {
                stroke-width : 4;
            }        
        </style> 
        <script>         
            // LocalStorage key used for quicksave
            const storageKey = "yadegraph";
            const gridStorageKey = "yadegridsize"
            const supportStorage = typeof(Storage) !== "undefined";
            var fulltutorial = {"fileName":"graph.json","graph":{"latexPreamble":"\\newcommand{\\coqproof}[1]{\\checkmark{}}","tabs":[{"active":true,"edges":[{"from":9,"id":138,"label":{"isPullshout":false,"label":"","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":10},{"from":10,"id":139,"label":{"isPullshout":false,"label":"","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":11},{"from":15,"id":140,"label":{"isPullshout":false,"label":"\\text{rename me}","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":18},{"from":19,"id":141,"label":{"isPullshout":false,"label":"\\text{select me}","style":{"alignment":"right","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":22},{"from":19,"id":142,"label":{"isPullshout":false,"label":"\\text{target me}","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":23},{"from":22,"id":143,"label":{"isPullshout":false,"label":"","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":23},{"from":25,"id":144,"label":{"isPullshout":false,"label":"","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":7},{"from":25,"id":145,"label":{"isPullshout":false,"label":"","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":8},{"from":32,"id":146,"label":{"isPullshout":false,"label":"","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":33},{"from":32,"id":147,"label":{"isPullshout":false,"label":"","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":34},{"from":34,"id":148,"label":{"isPullshout":false,"label":"","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":35},{"from":33,"id":149,"label":{"isPullshout":false,"label":"","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":35},{"from":37,"id":150,"label":{"isPullshout":false,"label":"f","style":{"alignment":"left","bend":-0.2,"color":"blue","dashed":true,"double":true,"head":"twoheads","position":0.7,"tail":"hook"},"zindex":1},"to":38},{"from":40,"id":151,"label":{"isPullshout":false,"label":"f","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":41},{"from":44,"id":152,"label":{"isPullshout":false,"label":"\\text{\\normalsize select me}","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":45},{"from":44,"id":153,"label":{"isPullshout":false,"label":"","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":46},{"from":44,"id":154,"label":{"isPullshout":false,"label":"","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":47},{"from":48,"id":155,"label":{"isPullshout":false,"label":"","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":45},{"from":50,"id":156,"label":{"isPullshout":false,"label":"F f","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":51},{"from":51,"id":157,"label":{"isPullshout":false,"label":"F g","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":52},{"from":52,"id":158,"label":{"isPullshout":false,"label":"n_{c}","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":53},{"from":51,"id":159,"label":{"isPullshout":false,"label":"n_{b}","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":54},{"from":54,"id":160,"label":{"isPullshout":false,"label":"G g","style":{"alignment":"right","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":53},{"from":50,"id":161,"label":{"isPullshout":false,"label":"n_{a}","style":{"alignment":"right","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":55},{"from":55,"id":162,"label":{"isPullshout":false,"label":"G f","style":{"alignment":"right","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":54},{"from":76,"id":163,"label":{"isPullshout":false,"label":"F g","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":77},{"from":77,"id":164,"label":{"isPullshout":false,"label":"n_{c}","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":78},{"from":100,"id":165,"label":{"isPullshout":false,"label":"f","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":101},{"from":104,"id":166,"label":{"isPullshout":false,"label":"F f","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":105},{"from":105,"id":167,"label":{"isPullshout":false,"label":"F g","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":106},{"from":106,"id":168,"label":{"isPullshout":false,"label":"n_{c}","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":107},{"from":105,"id":169,"label":{"isPullshout":false,"label":"n_{b}","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":108},{"from":108,"id":170,"label":{"isPullshout":false,"label":"G g","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":107},{"from":104,"id":171,"label":{"isPullshout":false,"label":"n_{a}","style":{"alignment":"right","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":109},{"from":109,"id":172,"label":{"isPullshout":false,"label":"G f","style":{"alignment":"right","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":108},{"from":112,"id":173,"label":{"isPullshout":false,"label":"","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":113},{"from":121,"id":174,"label":{"isPullshout":false,"label":"","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"none","position":0.5,"tail":"none"},"zindex":0},"to":122},{"from":124,"id":175,"label":{"isPullshout":false,"label":"F g","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":125},{"from":125,"id":176,"label":{"isPullshout":false,"label":"n_{c}","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":126},{"from":124,"id":177,"label":{"isPullshout":false,"label":"","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"},"zindex":0},"to":126},{"from":129,"id":178,"label":{"isPullshout":false,"label":"","style":{"alignment":"left","bend":0,"color":"black","dashed":false,"double":false,"head":"none","position":0.5,"tail":"none"},"zindex":0},"to":130}],"nodes":[{"id":0,"label":{"isMath":true,"label":"","pos":[362,1870.1333312988281],"zindex":2}},{"id":1,"label":{"isMath":true,"label":"\\textbf{Tutorial}","pos":[86,24.133331298828125],"zindex":2}},{"id":2,"label":{"isMath":true,"label":"\\text{Select the point below, and press 'a' . Use the mouse or  'hjkl' (keyboard) to move the target point.}","pos":[579.75,1733.6333312988281],"zindex":2}},{"id":3,"label":{"isMath":true,"label":"\\text{\\underline{Arrow creation}}","pos":[76.75,1733.6333312988281],"zindex":2}},{"id":4,"label":{"isMath":true,"label":"\\text{\\underline{Commutative square}}","pos":[95.5,2511.9666748046875],"zindex":2}},{"id":5,"label":{"isMath":true,"label":"\\text{Select the top right node in the diagram above,  then press 's'.}","pos":[443,2510.7166748046875],"zindex":2}},{"id":6,"label":{"isMath":true,"label":"\\text{\\underline{Move \\& Merge}}","pos":[83,2858.133331298828],"zindex":2}},{"id":7,"label":{"isMath":true,"label":"a","pos":[203,2952.820831298828],"zindex":2}},{"id":8,"label":{"isMath":true,"label":"c","pos":[200,3078.820831298828],"zindex":2}},{"id":9,"label":{"isMath":true,"label":"a'","pos":[490,2952.820831298828],"zindex":2}},{"id":10,"label":{"isMath":true,"label":"b'","pos":[432,3011.820831298828],"zindex":2}},{"id":11,"label":{"isMath":true,"label":"c'","pos":[487,3078.820831298828],"zindex":2}},{"id":12,"label":{"isMath":true,"label":"\\text{Select the node $\\mathbf{b}$ below, press 'g' , use the mouse or  'hjkl' to move.}","pos":[485,2863.13330078125],"zindex":2}},{"id":13,"label":{"isMath":true,"label":"\\text{When moving $\\mathbf{b}$, hold 'ctrl' while  hovering $b'$ to merge (click to confirm).}","pos":[505,2919.13330078125],"zindex":2}},{"id":14,"label":{"isMath":true,"label":"\\text{Use \\textbf{escape} any time to cancel any pending action (such as label editing).}","pos":[527,26.133331298828125],"zindex":2}},{"id":15,"label":{"isMath":true,"label":"","pos":[225,2175.7166900634766],"zindex":2}},{"id":16,"label":{"isMath":true,"label":"\\text{Select the arrow below, press 'r' to edit the label (or double click on it), Tab to confirm.}","pos":[451,2105.7166595458984],"zindex":2}},{"id":17,"label":{"isMath":true,"label":"\\text{\\underline{Rename}}","pos":[44,2106.7166900634766],"zindex":2}},{"id":18,"label":{"isMath":true,"label":"","pos":[425,2175.7166900634766],"zindex":2}},{"id":19,"label":{"isMath":true,"label":"","pos":[176.5,2058.3416748046875],"zindex":2}},{"id":20,"label":{"isMath":true,"label":"\\text{Select the arrow below, press 'a', move around, then press '='.  Click to confirm.}","pos":[499,1901.263542175293],"zindex":2}},{"id":21,"label":{"isMath":true,"label":"\\text{\\underline{Higher cells}}","pos":[60,1903.7166748046875],"zindex":2}},{"id":22,"label":{"isMath":true,"label":"","pos":[370.5,2058.3416748046875],"zindex":2}},{"id":23,"label":{"isMath":true,"label":"","pos":[270.5,1963.0916748046875],"zindex":2}},{"id":24,"label":{"isMath":true,"label":"\\text{\\underline{Point creation}}","pos":[75.5,411.8833312988281],"zindex":2}},{"id":25,"label":{"isMath":true,"label":"\\mathbf{b}","pos":[307,3009.133331298828],"zindex":2}},{"id":26,"label":{"isMath":true,"label":"\\text{All the commands presented above are listed above the canvas}","pos":[258,88.7166748046875],"zindex":2}},{"id":27,"label":{"isMath":true,"label":"\\text{Proceed as for a standard arrow creation}","pos":[336,1929.263542175293],"zindex":2}},{"id":28,"label":{"isMath":true,"label":"\\text{Enter to validate the guessed labels (otherwise, use tab).}","pos":[422,2543.7166748046875],"zindex":2}},{"id":29,"label":{"isMath":true,"label":"\\text{\\underline{Add xy space}}","pos":[84.5,3251.5332946777344],"zindex":2}},{"id":30,"label":{"isMath":true,"label":"\\text{Move the cursor inside the square below}","pos":[355.5,3260.5333557128906],"zindex":2}},{"id":31,"label":{"isMath":true,"label":"\\text{Presse 'e', and draw a rectangle}","pos":[319.5,3293.5333557128906],"zindex":2}},{"id":32,"label":{"isMath":true,"label":"a","pos":[585.5,3230.216552734375],"zindex":2}},{"id":33,"label":{"isMath":true,"label":"b","pos":[674.5,3230.216552734375],"zindex":2}},{"id":34,"label":{"isMath":true,"label":"c","pos":[585.5,3313.216552734375],"zindex":2}},{"id":35,"label":{"isMath":true,"label":"d","pos":[674.5,3313.216552734375],"zindex":2}},{"id":36,"label":{"isMath":true,"label":"\\text{\\underline{Arrow style}}","pos":[69.5,1391.7666473388672],"zindex":2}},{"id":37,"label":{"isMath":true,"label":"a","pos":[220,1644.7166595458984],"zindex":2}},{"id":38,"label":{"isMath":true,"label":"b","pos":[436,1644.7166595458984],"zindex":2}},{"id":39,"label":{"isMath":true,"label":"\\text{\\underline{Detach arrow head/tail}}","pos":[132.5,3363.2915649414062],"zindex":2}},{"id":40,"label":{"isMath":true,"label":"a","pos":[197,3460.1415405273438],"zindex":2}},{"id":41,"label":{"isMath":true,"label":"b","pos":[394,3460.1415405273438],"zindex":2}},{"id":42,"label":{"isMath":true,"label":"\\text{Select the arrow and press C. Then, press c  to alternate between the head and the tail.}","pos":[625,3367.13330078125],"zindex":2}},{"id":43,"label":{"isMath":false,"label":"\\underline{Pullbacks/Pushouts}","pos":[51,3715.183349609375],"zindex":2}},{"id":44,"label":{"isMath":true,"label":"","pos":[249.75,3840.1749267578125],"zindex":2}},{"id":45,"label":{"isMath":true,"label":"","pos":[249.25,3949.1580810546875],"zindex":2}},{"id":46,"label":{"isMath":true,"label":"","pos":[343.75,3840.1749267578125],"zindex":2}},{"id":47,"label":{"isMath":true,"label":"","pos":[321.75,3801.1749267578125],"zindex":2}},{"id":48,"label":{"isMath":true,"label":"","pos":[177.25,3952.2581787109375],"zindex":2}},{"id":49,"label":{"isMath":false,"label":"\\underline{Coq script generation}","pos":[1224.5,71.21672058105469],"zindex":2}},{"id":50,"label":{"isMath":true,"label":"F a","pos":[202,754.7166748046875],"zindex":2}},{"id":51,"label":{"isMath":true,"label":"F b","pos":[333,754.7166748046875],"zindex":2}},{"id":52,"label":{"isMath":true,"label":"F c","pos":[469,754.7166748046875],"zindex":2}},{"id":53,"label":{"isMath":true,"label":"G c","pos":[469,890.7166748046875],"zindex":2}},{"id":54,"label":{"isMath":true,"label":"G b","pos":[333,890.7166748046875],"zindex":2}},{"id":55,"label":{"isMath":true,"label":"G a","pos":[202,890.7166748046875],"zindex":2}},{"id":56,"label":{"isMath":false,"label":"select the diagram below and press 'G'","pos":[1332.5,134.2165985107422],"zindex":2}},{"id":57,"label":{"isMath":false,"label":"The following keys change selected arrow style : >(=-bBA][ic+<.","pos":[165,1383.7166595458984],"zindex":2}},{"id":58,"label":{"isMath":false,"label":"'>'  arrow head","pos":[252.375,1423.7166748046875],"zindex":2}},{"id":59,"label":{"isMath":false,"label":"'(' arrow tail","pos":[253.375,1457.7166748046875],"zindex":2}},{"id":60,"label":{"isMath":false,"label":"'-'  dashed arrow","pos":[413.875,1425.7166748046875],"zindex":2}},{"id":61,"label":{"isMath":false,"label":"'='  double arrow","pos":[411.875,1455.7166748046875],"zindex":2}},{"id":62,"label":{"isMath":false,"label":"']['  label position (left/right)","pos":[599.625,1457.7166595458984],"zindex":2}},{"id":63,"label":{"isMath":false,"label":"Try them after selecting the arrow below","pos":[167,1552.1666870117188],"zindex":2}},{"id":64,"label":{"isMath":false,"label":"'A'  label position (above/below)","pos":[599.625,1426.7166595458984],"zindex":2}},{"id":65,"label":{"isMath":false,"label":"'b'/'B' : bend arrow","pos":[175.5,1507.1666793823242],"zindex":2}},{"id":66,"label":{"isMath":false,"label":"Arrow style can be customised before confirming (by clicking or Tab)","pos":[176,1749.7166748046875],"zindex":2}},{"id":67,"label":{"isMath":false,"label":"Edit the point label, then press Tab to edit the arrow label and then confirm it.","pos":[180,1777.7166748046875],"zindex":2}},{"id":68,"label":{"isMath":false,"label":"\\underline{Quicksave}","pos":[13.5,179.2166748046875],"zindex":2}},{"id":69,"label":{"isMath":false,"label":"Press 'Q' to quicksave.","pos":[114.5,180.2166748046875],"zindex":2}},{"id":70,"label":{"isMath":false,"label":"The quickload button above reloads the quicksaved graph (even after closing and reopening the window)","pos":[60.5,225.2166748046875],"zindex":2}},{"id":71,"label":{"isMath":false,"label":"The autosave checkbox quicksaves every minute.","pos":[60.5,257.2166748046875],"zindex":2}},{"id":72,"label":{"isMath":false,"label":"Quicksaving stores the graph in the browser for the web version of the editor,","pos":[62.5,291.2166748046875],"zindex":2}},{"id":73,"label":{"isMath":false,"label":"or in the specified file (Filename input above) for the desktop version","pos":[62.5,334.2166748046875],"zindex":2}},{"id":74,"label":{"isMath":false,"label":"Press 't' instead of 'p' to create a text point (no LaTeX, anchored left instead of center)","pos":[172,463.71665954589844],"zindex":2}},{"id":75,"label":{"isMath":false,"label":" Or press Enter to skip label editing.","pos":[180,1812.7166748046875],"zindex":2}},{"id":76,"label":{"isMath":true,"label":"F b","pos":[199.5,2320.7166748046875],"zindex":2}},{"id":77,"label":{"isMath":true,"label":"F c","pos":[331.5,2320.7166748046875],"zindex":2}},{"id":78,"label":{"isMath":true,"label":"G c","pos":[331.5,2456.7166748046875],"zindex":2}},{"id":79,"label":{"isMath":false,"label":"Alternatively, hold 'g' to move and release to confirm","pos":[133,3132.38330078125],"zindex":2}},{"id":80,"label":{"isMath":false,"label":"Press 'd' to duplicate (keeping the original arrow)","pos":[273.5,3400.1415405273438],"zindex":2}},{"id":81,"label":{"isMath":false,"label":"\\underline{LaTeX / SVG export}","pos":[20.5,936.2166748046875],"zindex":2}},{"id":82,"label":{"isMath":false,"label":"Select the diagram above and press 'X' or 'V' ","pos":[220.5,938.2166748046875],"zindex":2}},{"id":83,"label":{"isMath":false,"label":"\\underline{Deleting}","pos":[21.5,981.2166748046875],"zindex":2}},{"id":84,"label":{"isMath":false,"label":"Press 'x' to delete selected object(s)","pos":[148.5,983.2166748046875],"zindex":2}},{"id":85,"label":{"isMath":false,"label":"\\underline{Selection}","pos":[19,497.21665954589844],"zindex":2}},{"id":86,"label":{"isMath":false,"label":"'w' clears selection. 'u' extends selection to connected components. 'S' Selects surrounding diagram","pos":[113,634.7166748046875],"zindex":2}},{"id":87,"label":{"isMath":false,"label":"Hold 'shift' (and click / move mouse) to add stuff to selection.","pos":[112,598.7166595458984],"zindex":2}},{"id":88,"label":{"isMath":false,"label":"If something is already selected, shadowed or dotted objects are what would be selected on a click.","pos":[109,559.7166595458984],"zindex":2}},{"id":89,"label":{"isMath":false,"label":" Click on an object to select it, or hold the mouse button to draw a selection rectangle","pos":[117,502.71665954589844],"zindex":2}},{"id":90,"label":{"isMath":false,"label":"Press 'p' and click somewhere to create and label a point. Enter/Tab to confirm","pos":[172,407.71665954589844],"zindex":2}},{"id":91,"label":{"isMath":false,"label":"\\underline{Copy \\& Paste}","pos":[19,1302.7166748046875],"zindex":2}},{"id":92,"label":{"isMath":false,"label":"C-c copies selected objects in the clipboard in a json format.","pos":[169,1307.7166748046875],"zindex":2}},{"id":93,"label":{"isMath":false,"label":"Alt-c clones the selected objects.","pos":[169,1340.7166748046875],"zindex":2}},{"id":94,"label":{"isMath":false,"label":"\\underline{Undo}","pos":[17,363.7166748046875],"zindex":2}},{"id":95,"label":{"isMath":false,"label":"C-z","pos":[86,364.7166748046875],"zindex":2}},{"id":96,"label":{"isMath":false,"label":"Example: move your mouse in the right square below. Press 'S', then 'u', then 'w'.","pos":[109,697.7166748046875],"zindex":2}},{"id":97,"label":{"isMath":false,"label":"\\underline{Find \\& replace}","pos":[11,2241.7166748046875],"zindex":2}},{"id":98,"label":{"isMath":false,"label":"Select the diagram below, press 'q' and enter '/F/H' to replace $F$ by $H$","pos":[170,2242.7166748046875],"zindex":2}},{"id":99,"label":{"isMath":false,"label":"\\underline{Split arrow}","pos":[48,3509.716552734375],"zindex":2}},{"id":100,"label":{"isMath":true,"label":"a","pos":[165.5,3630.716552734375],"zindex":2}},{"id":101,"label":{"isMath":true,"label":"b","pos":[358.5,3630.716552734375],"zindex":2}},{"id":102,"label":{"isMath":false,"label":"Select the arrow below and press '/' to split it.","pos":[168,3509.716552734375],"zindex":2}},{"id":103,"label":{"isMath":false,"label":"Before confirming (by enter) or editing the label (by Tab), press '/' again to swap the labels","pos":[166,3544.716552734375],"zindex":2}},{"id":104,"label":{"isMath":true,"label":"F a","pos":[1342,184.2165985107422],"zindex":2}},{"id":105,"label":{"isMath":true,"label":"F b","pos":[1476,184.2165985107422],"zindex":2}},{"id":106,"label":{"isMath":true,"label":"F c","pos":[1612,184.2165985107422],"zindex":2}},{"id":107,"label":{"isMath":true,"label":"G c","pos":[1612,320.2165985107422],"zindex":2}},{"id":108,"label":{"isMath":true,"label":"G b","pos":[1476,320.2165985107422],"zindex":2}},{"id":109,"label":{"isMath":true,"label":"G a","pos":[1342,320.2165985107422],"zindex":2}},{"id":110,"label":{"isMath":false,"label":"\\underline{Grid}","pos":[32,1053.7166748046875],"zindex":2}},{"id":111,"label":{"isMath":false,"label":"Press 'f' to snap the selected nodes to the grid. Try it below.","pos":[114,1057.7166748046875],"zindex":2}},{"id":112,"label":{"isMath":true,"label":"a","pos":[179,1129.7166748046875],"zindex":2}},{"id":113,"label":{"isMath":true,"label":"b","pos":[330,1165.7166748046875],"zindex":2}},{"id":114,"label":{"isMath":false,"label":"'R' enters the resize mode.  The grid size can be adjusted either with the keyboard (jk) or with a slider above the canvas","pos":[112,1207.7166748046875],"zindex":2}},{"id":115,"label":{"isMath":false,"label":"While in resize mode, press 'g' to resize the grid only (and leave objects unchanged).","pos":[111,1253.7166748046875],"zindex":2}},{"id":116,"label":{"isMath":false,"label":"'i' invert arrow","pos":[439,1506.7166748046875],"zindex":2}},{"id":117,"label":{"isMath":false,"label":"Enter to confirm, ESC to cancel","pos":[112,1230.7166748046875],"zindex":2}},{"id":118,"label":{"isMath":false,"label":"This is LaTeX enabled. A preamble can be provided (click on the link Latex preamble above the canvas)","pos":[170,435.71665954589844],"zindex":2}},{"id":119,"label":{"isMath":false,"label":"Select the arrow below. Then, press 'a' then 'p' (or 'P') and 'p' (or 'P') again to cycle between possibilities).","pos":[122,3750.716552734375],"zindex":2}},{"id":120,"label":{"isMath":false,"label":"Enter to confirm","pos":[453,3831.716552734375],"zindex":2}},{"id":121,"label":{"isMath":true,"label":"","pos":[1151,42.71665954589844],"zindex":2}},{"id":122,"label":{"isMath":true,"label":"","pos":[1150,4197.716552734375],"zindex":2}},{"id":123,"label":{"isMath":false,"label":"\\underline{Textual completion}","pos":[23,2604.716552734375],"zindex":2}},{"id":124,"label":{"isMath":true,"label":"F b","pos":[322.5,2711.216552734375],"zindex":2}},{"id":125,"label":{"isMath":true,"label":"F c","pos":[457.5,2711.216552734375],"zindex":2}},{"id":126,"label":{"isMath":true,"label":"G c","pos":[455,2816.216552734375],"zindex":2}},{"id":127,"label":{"isMath":false,"label":"Select diagram below, press E and enter","pos":[227,2614.716552734375],"zindex":2}},{"id":128,"label":{"isMath":false,"label":"\\verb|_ = F b -- n_{b} -> G b -- G g -> G c|","pos":[221,2644.716552734375],"zindex":2}},{"id":129,"label":{"isMath":true,"label":"","pos":[294,1592.7166748046875],"zindex":2}},{"id":130,"label":{"isMath":true,"label":"","pos":[323,1663.7166748046875],"zindex":2}},{"id":131,"label":{"isMath":false,"label":"'+' move forwards (z)","pos":[28,1425.7166748046875],"zindex":2}},{"id":132,"label":{"isMath":false,"label":"'<' move backwards (z)","pos":[29,1452.7166748046875],"zindex":2}},{"id":133,"label":{"isMath":false,"label":"Press '?' at any time to display the full list of the available commands on the right","pos":[25,129.7166748046875],"zindex":2}},{"id":134,"label":{"isMath":false,"label":"'c' change color (then press '?' to see the options)","pos":[603,1506.7166748046875],"zindex":2}},{"id":135,"label":{"isMath":true,"label":"\\coqproof{naturality.}","pos":[1395,249.71665954589844],"zindex":2}},{"id":136,"label":{"isMath":true,"label":"\\coqproof{naturality.}","pos":[1546,250.7166748046875],"zindex":2}},{"id":137,"label":{"isMath":false,"label":"Press 'x' or 'y' to restrict to horizontal/vertical movement (press 'f' to remove the restriction)","pos":[206,2880.13330078125],"zindex":0}}],"sizeGrid":136,"title":"Tutorial"}]},"version":11};
            var tutorial = fulltutorial["graph"];
            var tutorial_format_version = fulltutorial["version"];

            // electron does not support synchronous window.prompt
            var customPrompt = function(question, defaut, callback) {
                var ret = window.prompt(question, defaut);
                if (ret)                   
                   callback(ret);
            }

            var gridSize = 200;
            if (supportStorage) {
                var result = parseInt(localStorage.getItem(gridStorageKey), 10);
                if (! isNaN(result) && result > 0) {
                    gridSize = result;
                }
            }
            //       if (fulltutorial.hasOwnProperty("graph") && fulltutorial.graph.hasOwnProperty("sizeGrid"))
            //          fulltutorial.graph.sizeGrid = result;
            //       else
            //          alert("Can't update size grid from preferences");
            //    }
            // } 
             
            
            scenarios = {
               "exercise1" : {"graph":{"edges":[{"from":1,"id":12,"label":{"label":"Ff","style":{"alignment":"left","bend":-0.1,"dashed":false,"double":true,"head":"twoheads","position":0.5,"tail":"hook"}},"to":0},{"from":0,"id":13,"label":{"label":"n_y","style":{"alignment":"left","bend":0,"dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"}},"to":2},{"from":1,"id":14,"label":{"label":"n_x","style":{"alignment":"left","bend":0,"dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"}},"to":3},{"from":3,"id":15,"label":{"label":"Gf","style":{"alignment":"left","bend":0,"dashed":false,"double":false,"head":"default","position":0.5,"tail":"none"}},"to":2}],"latexPreamble":"","nodes":[{"id":0,"label":{"isMath":true,"label":"Fy","pos":[531.5,115.33335876464844]}},{"id":1,"label":{"isMath":true,"label":"Fx","pos":[331.5,115.33335876464844]}},{"id":2,"label":{"isMath":true,"label":"Gy","pos":[531.5,315.33335876464844]}},{"id":3,"label":{"isMath":true,"label":"Gx","pos":[331.5,315.33335876464844]}},{"id":4,"label":{"isMath":false,"label":"Number of taken actions so far: \\textbf{$\\depthHistory$}","pos":[82,369.5333251953125]}},{"id":5,"label":{"isMath":false,"label":"Reproduce this square in 4 actions starting from the selected vertex below (mouse is disabled)","pos":[96,30.5333251953125]}},{"id":6,"label":{"isMath":true,"label":"\\bullet","pos":[276,460.18333435058594]}},{"id":7,"label":{"isMath":false,"label":"See hints below.","pos":[82,404.3833312988281]}},{"id":8,"label":{"isMath":false,"label":"- when creating an arrow, use hjkl for keyboard placement, and (>=bB for styling, before validating with TAB (hence jumping to next label)","pos":[126.5,742.3833312988281]}},{"id":9,"label":{"isMath":false,"label":"- to move selection to a close node, use hjkl.","pos":[129.5,786.3833312988281]}},{"id":10,"label":{"isMath":false,"label":"- use 's' to create a square from a node connected to two other nodes","pos":[127,825.2833404541016]}},{"id":11,"label":{"isMath":false,"label":"- rename with 'r'","pos":[130,701.1833343505859]}}],"sizeGrid":200},"version":5},
            };
        </script>
    </head>

    <body>       
        <h1>Diagram editor</h1>
   
     
        <!-- <p>
            A vi-inspired diagram editor, with              
            (latex) labelled nodes and edges, tested with Firefox, written in <a href="https://elm-lang.org/">Elm</a> (see the code on 
        <a href="https://github.com/amblafont/graph-editor-web">github</a>).
            Higher cells are supported.
	    You can draw anywhere, not just on the grid (whose size can be later adjusted).
	    </p>
	    <p>
	    For a LaTeX export, first export to <a href="https://q.uiver.app">Quiver</a> (beware that vertices will be snapped
            to the grid in the process).
	    </p>
	    <p>
            Read the tutorial first, and then try some <a href="?scenario=exercise1">exercise</a>.
        </p>
        <button onclick="loadGraph()" id="load-button" >Load graph</button>
        <button title="Local or session storage" onclick="quickloadGraph()" >QuickLoad graph</button> -->
        
    <!--     <button onclick="dispatchRenderedChildren(document)">
            Recompute the layer
        </button> -->
        
        <!-- first use of katex element. It seems it should be done
        beforehand, otherwise dispatchRendered on the first labelled point  
        gets wrong dimensions.
        -->
        <math-latex> </math-latex>
        <div id="myapp"></div>
        <script>
        const isElectron = window.electronAPI != undefined;
        var appDiv = document.getElementById('myapp');

       
     
        
         
        function dispatchRendered(node) {            
            if (node.clientWidth != null)
                     {
                         // could be optimized by having an additionnal
                         // attribute that tells whether it has
                         // a listener
                         var rect = { width : node.clientWidth , height : node.clientHeight }
                         /* if (node.tagName = "MATH-LATEX") {
                            console.log (rect);
                            console.log (node.getBoundingClientRect());
                         } */
                         node.dispatchEvent(new CustomEvent(renderedEvent, { detail : rect } ));
                     }
        };

        function dispatchRenderedChildren(node) {
            children = node.getElementsByClassName(renderedClass);
                     for (var i = 0; i < children.length; ++i) {
                          dispatchRendered(children[i]);
                      }        
        }
        function fullDispatchRendered(node) {
            dispatchRendered(node);
            if (node.getElementsByClassName != null) {                                                  
                  dispatchRenderedChildren(node);  
            }
        }

         // rendered event handlers
         // Fonction callback à éxécuter quand une mutation est observée
         var callbackMutation = function(mutationsList) {
             for(var mutation of mutationsList) {
	               for(var node of mutation.addedNodes) {
             
                    fullDispatchRendered(node);
                 }
                
	            /*    for(var node of mutation.removedNodes) {
                     if (node.getBoundingClientRect != null)
                     {
                         node.dispatchEvent(new CustomEvent("remove"));
                     }
                 } */
             }
         };

         // Créé une instance de l'observateur lié à la fonction de callback
         var observer = new MutationObserver(callbackMutation);
         observer.observe(appDiv, 
	                        { subtree: true, childList: true }); 

         // initialisation de Elm

         var app = Elm.Main.init({
             node: appDiv,
             flags: { defaultGridSize : gridSize }
         });
         // we send a signal [keyInput] to elm and recieve
         // the answer on [keyOutput]
         function makeElmRequest(keyInput, keyOutput, f) {
            app.ports[keyOutput].subscribe(f);
            return function (data) {
            app.ports[keyInput].send(data);
            }
         }
         // when receiving a signal [keyInput] from Elm
         // we answer by applying [f] and send the result to [keyOutput]
         function answerElmRequestCallback(keyInput, keyOutput, f) {
            var answer = function (data) {
               f(data, function (outData) {
                if (outData)   
                   app.ports[keyOutput].send(outData);
                })
            };
            app.ports[keyInput].subscribe(answer);
            return answer;
         }

         function answerElmRequest(keyInput, keyOutput, f) {
            return answerElmRequestCallback(keyInput, keyOutput, 
               (data, callback) => callback(f(data))                  
            );
         }

         
         


         function sendGraphToElm(json, filename, scenario = "standard", clipboard = false, setFirstTab = false) {
            var graph = json;
            var version = 0;
            if (json.hasOwnProperty('version')) {
               version = json.version;
               graph = json.graph;
            }
            var args = { graph , fileName : filename, scenario,
                clipboard, setFirstTab};
            console.log(args);
            app.ports["loadedGraph" + version].send(args);
         }
        
         const queryString = window.location.search;
         const urlParams = new URLSearchParams(queryString);
         var tutoData = {"graph" : tutorial, "fileName" : "graph.json", "scenario" : "standard", "clipboard" : false, 
        setFirstTab : false };

         if (urlParams.has("scenario") && scenarios.hasOwnProperty(urlParams.get("scenario"))) {
            scenario = urlParams.get("scenario"); 
            sendGraphToElm(scenarios[scenario], scenario + ".json", scenario);
         }
         else {            
            app.ports["loadedGraph" + tutorial_format_version].send(tutoData);
         }
         
         // load a json graph file, send it to the elm component
         function openFile() {
             var input = document.createElement('input');
             input.type = 'file';
             input.accept = ".json";
             input.onchange = e => {
                 var file = e.target.files[0];
                 var fr=new FileReader();
                 fr.onload=function(){
                     var json = JSON.parse (fr.result);
                     sendGraphToElm(json, file.name);
                 }
                 fr.readAsText(file);
                 document.title = file.name;
             }

             input.click();
         };

         if (isElectron)
            app.ports.openFile.subscribe(function (d) {
                window.electronAPI.openFile();
            });
         else
            app.ports.openFile.subscribe(openFile);

        // load a json graph file, from local storage
        function quickloadGraph() {
            if (!supportStorage) {           
               alert("Sorry, your browser does not support Web Storage.");
               return;
            }    
            // we first try loading from the current
            // session storage, to avoid conflicts with
            // other possibly opened tabs
            var result = sessionStorage.getItem(storageKey);
            if (!result) {
                result = localStorage.getItem(storageKey);
                if (result)
                // we put it in the temporary session storage
                    sessionStorage.setItem(storageKey, result);                    
            }
            if (!result) {
                alert('No quicksaved graph found');
                return;
            }
            
            var json = JSON.parse(result);
            var fileName = json.fileName;                  
            sendGraphToElm(json, json.fileName);     
         };



         app.ports.quickLoad.subscribe(quickloadGraph);

         app.ports.alert.subscribe(function(s) {
             alert(s);
         });


         app.ports.select.subscribe(function(id) {
            var elmnt = document.getElementById(id);
            elmnt.select();
         });

         app.ports.computeLayout.subscribe(function(s) {                         
             var children = document.getElementsByClassName(renderedClass);             
             for (var i = 0; i < children.length; ++i) {
                          dispatchRendered(children[i]);
                      }   
         });

         app.ports.preventDefault.subscribe(function (e) {
             e.preventDefault();
         });

                  // asks the user to download some file, generated from content
                  function download(content, fileName, contentType) {
             var a = document.createElement("a");
             var file = new Blob([content], {type: contentType});
             a.href = URL.createObjectURL(file);
             a.download = fileName;
             a.click();
         }

         function fromElmGraph(a) {
             return {graph : a.graph, version : a.version };;
         }

         function quicksaveStorage(arg) {
            console.log("Quicksaving...");
            var a = arg.info
            var d = fromElmGraph(a);
            d.fileName = a.fileName;
             // Check browser support
            if (!supportStorage) {           
               if (arg.feedback)
                   alert("Sorry, your browser does not support Web Storage.");
               return;
            }
            // Store even if the browser is closed
            localStorage.setItem(storageKey, JSON.stringify(d));
            // we put it also in a temporary session storage
            // in case multiple tabs are opened
            sessionStorage.setItem(storageKey, JSON.stringify(d));
            if (arg.feedback)
                alert("Successful quicksave"); 
         }

         if (isElectron)
            app.ports.quicksaveGraph.subscribe(function (a) {
                    var d = a.info;
                    var g = fromElmGraph(d);
                    window.electronAPI.quicksaveGraph(d.fileName, g, a.export, a.feedback);
            });
         else
            app.ports.quicksaveGraph.subscribe(quicksaveStorage);

         app.ports.saveGridSize.subscribe(function(arg) {
            console.log("Saving grid size preferences.");
            // Check browser support
            if (!supportStorage) {           
               alert("Sorry, your browser does not support Web Storage.");
               return;
            }
            // Store even if the browser is closed
            localStorage.setItem(gridStorageKey, arg);                         
         });

         app.ports.exportQuiver.subscribe(function(d) {
             // copied from quiver/quiver.js (export base64)
             var s = `https://q.uiver.app/?q=${
              btoa(unescape(encodeURIComponent(JSON.stringify(d))))}`;
              window.open(s);             
         });

         function saveGraph(b) {
            var a = b.graph;
            var name = a.fileName;
            var d = fromElmGraph(a);
            download(JSON.stringify(d), name /* + '.json' */, 'application/json');
               
            document.title = name;
         };

         if (isElectron)
            app.ports.saveGraph.subscribe(function (d) {
                window.electronAPI.saveGraph(d.graph.fileName, fromElmGraph(d.graph), d.export);
            });
         else
            app.ports.saveGraph.subscribe(saveGraph);


         // this event handler computes the relative position
         // of the mouse with respect to the current target
         // (the one to which the event is attached)
         answerElmRequest('onMouseMove', 'onMouseMoveFromJS', function(e) {
             if ( e.currentTarget) {
                 var rect = e.currentTarget.getBoundingClientRect();
                 var x = e.clientX - rect.left; //x position within the element.
                 var y = e.clientY - rect.top;  //y position within the element.
                 return [x, y];
             }
         });

         document.addEventListener("paste", function (e) { 
                const clipboardData = e.clipboardData || window.clipboardData;
                console.log("paste");

                const text = clipboardData.getData('text') || "";
                // console.log(text);
                var json;
                try { 
                    json = JSON.parse(text);
                 }
                catch (e) { json = false; }
                // console.log(json);
                if (json) {
                    sendGraphToElm(json, "", "standard", true);
                    // cnonsole.log(json);
                }
                // app.ports.onPaste.send(text); 
        });


        // answerElmRequest('decodeGraph', 'decodedGraph', function (paste) {
        //     var json;
        //     try { json = JSON.parse(paste); }
        //     catch (e) { json = false; }
        //     if (json) 
        //        return json.graph
              
        //  })
        


        

         answerElmRequestCallback('promptFindReplace', 'findReplace', (a, callback) =>
         
            customPrompt("Replace in selection (/find/replace, where '/' can be replaced by any character)", 
                  "/find/replace",
                  function (rep) {
             if (rep && rep.length > 2) {
                reps = rep.split(rep[0])                
                if (reps && reps.length == 3 && reps[1]) {
                    var search = reps[1];
                    var replace = reps[2];
                    callback({'search':search, 'replace': replace});
                }
             }
         }) 
         );

         answerElmRequestCallback('promptEquation', 'promptedEquation', (a, callback) =>
            customPrompt("Enter equation", 
                  "a -- f -> b -- g -> c = a -- h -> d -- k -> c", function (rep) {
            console.log("reponse: " + rep);
             if (rep && rep.length > 0) {                
                    callback(rep); //{ equation : rep, final: false, scenario: ""};
             }
            })
         );

         answerElmRequestCallback('promptTabTitle', 'promptedTabTitle', (a, callback) =>
            customPrompt("Rename tab", 
                  a, function (rep) {
            // console.log("reponse: " + rep);
            //  if (rep && rep.length > 0) {                
                    callback(rep); //{ equation : rep, final: false, scenario: ""};
             
            })
         );

         triggerElmCopy = makeElmRequest('onCopy', 'clipboardWriteGraph', function(g) {
            navigator.clipboard.writeText(JSON.stringify(g));                                     
         })

         function toClipboard({content, success, failure}) {
            navigator.clipboard.writeText(content).then(
            () => {
                success && alert(success);
            },
            () => {
                failure && alert(failure);
            });
         };

         app.ports.toClipboard.subscribe(toClipboard);
         const err = "This features is only enabled with the desktop version and the appropriate vscode extension";

         if (isElectron) {
            app.ports.incompleteEquation.subscribe(function(statement){
                window.electronAPI.incompleteEquation(statement)
            });
            app.ports.applyProof.subscribe(function(statement){
                window.electronAPI.applyProof(statement)
            });
         }
         else {
            app.ports.incompleteEquation.subscribe((statement) =>  alert(err));
            app.ports.applyProof.subscribe((statement) =>  alert(err));
         }

         function copyErr(s, emptyErr, success, failure) {
            if (s == "") {
                alert("No selected subdiagram found!");
                return;
            }
            toClipboard(
                {   content : s,
                    success : success,
                    failure : failure});
         }

         app.ports.generateProofJs.subscribe(function(script) {
            copyErr(script, 
              "No selected diagram found!",
              "Coq script successfully copied",
              "Copy failed"
              );
         });
         app.ports.generateSvg.subscribe(function(svg) {
            copyErr(svg, 
              "No selected diagram found!",
              "SVG code successfully copied",
              "Copy failed"
              );
         });


         document.addEventListener("copy", function(event) {
                    triggerElmCopy(null);
         });
      


         // Elm browser keydown handler is passive
         // and thus cannot prevent default behaviour
         // so we make our custom event listener.
         document.addEventListener("keydown", function(event)  {
                    app.ports.onKeyDownActive.send(event);
         });

         // Setting up interaction with electron
         if (isElectron) {
            customPrompt = function (question, defaut, callback) {
                window.electronAPI.prompt(question, defaut).then(callback);
            };

            console.log("electron detected");
            // window.electronAPI.loadGraph((event, json, fileName, scenario) => alert('coucou') );
            window.electronAPI.loadGraph((event, json, fileName, scenario) => sendGraphToElm(json, fileName, scenario));
            window.electronAPI.clearGraph((event, scenario) => app.ports.clear.send(scenario));
            window.electronAPI.setFirstTab((event, json) => sendGraphToElm(json, "", "coqlsp", false, true));
            window.electronAPI.loadEquation(function (event, equation, scenario) {
                   console.log(equation);
                //   app.ports.clear.send(scenario);
                //   app.ports.promptedEquation.send(equation) ;
                app.ports.setFirstTabEquation.send(equation);
            }
            );
            window.electronAPI.rename((event, fileName) => app.ports.renameFile.send(fileName));
            window.electronAPI.simpleMsg((event, msg) => app.ports.simpleMsg.send(msg));
 
            // }




            app.ports.generateProofJs.subscribe(function(script){
                window.electronAPI.generateProof(script)
            });
            window.electronAPI.completeEquation((event, content) =>
                app.ports.completeEquation.send(content)
            );
            window.electronAPI.appliedProof((event, content) =>
                app.ports.appliedProof.send(content)
            );
         }
        
         
        
        </script>
    </body>
</html>
